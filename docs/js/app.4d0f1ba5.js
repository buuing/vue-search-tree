(function(e){function t(t){for(var r,d,c=t[0],o=t[1],l=t[2],h=0,u=[];h<c.length;h++)d=c[h],Object.prototype.hasOwnProperty.call(i,d)&&i[d]&&u.push(i[d][0]),i[d]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);s&&s(t);while(u.length)u.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(r=!1)}r&&(a.splice(t--,1),e=d(d.s=n[0]))}return e}var r={},i={app:0},a=[];function d(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=r,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)d.d(n,r,function(t){return e[t]}.bind(null,r));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),i=n.n(r);i.a},"280e":function(e,t,n){"use strict";var r=n("2b82"),i=n.n(r);i.a},"2b82":function(e,t,n){},"3cd3":function(e,t,n){"use strict";var r=n("baee"),i=n.n(r);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,i,a,d,c=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("请按F12观察Console")]),n("Demo1",{staticStyle:{margin:"80px 20px"}}),n("Demo2",{staticStyle:{margin:"80px 20px"}}),n("Demo3",{staticStyle:{margin:"80px 20px"}})],1)},l=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("基础用法")]),e._m(0),n("SearchTree",{attrs:{"node-key":"id",data:e.treeList}})],1)},h=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("指定node-key为id")]),n("li",[e._v("通过data设置展示的数据")])])}],u={data:function(){return{treeList:[{id:1e3,name:"河南省",children:[{id:1009,name:"新乡市",children:[{id:1119,name:"新乡市宏力大道店"},{id:1120,name:"新乡市胜利北街店"},{id:1121,name:"新乡市首比街店"}]},{id:1016,name:"巩义市",children:[{id:1254,name:"巩义市新兴路店"}]}]},{id:1001,name:"河北省",children:[]},{id:1007,name:"山东省",children:[{id:1103,name:"济南市",children:[{id:2544,name:"济南市无影山西路店"},{id:2545,name:"济南市堤口路店"}]},{id:1105,name:"沂市",children:[{id:2561,name:"沂市东岳庙店"}]}]},{id:1008,name:"甘肃省",children:[{id:1111,name:"兰州市",children:[{id:2649,name:"兰州市金港城店"},{id:2651,name:"兰州市秦安路店"}]}]}]}}},f=u,p=n("2877"),m=Object(p["a"])(f,s,h,!1,null,null,null),v=m.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("使用更多属性")]),n("ul",[n("li",[e._v("显示checkbox(选择框)")]),n("li",[e._v("默认选中 济南市 ")]),n("li",[e._v("默认展开 济南市 和 沂市 ")]),n("li",[e._v("设置 node-click 点击时获得该节点")]),n("li",[n("button",{on:{click:e.setKeys}},[e._v("通过key选中河南和河北")])]),n("li",[n("button",{on:{click:e.getKeys}},[e._v("获取所有选中项的keys")])]),n("li",[n("button",{on:{click:e.getNodes}},[e._v("获取所有选中项的nodes")])]),n("li",[n("button",{on:{click:e.resetChecked}},[e._v("清空所有选中状态")])]),n("li",[n("button",{on:{click:e.getNode}},[e._v("通过key获取河北省节点")])])]),n("SearchTree",{ref:"tree",attrs:{"node-key":"id",data:e.treeList,"show-checkbox":!0,"default-checked-keys":[1103],"default-expanded-keys":[1103,1105]},on:{"node-click":e.handleClick}})],1)},y=[],g={data:function(){return{treeList:[{id:1e3,name:"河南省",children:[{id:1009,name:"新乡市",children:[{id:1119,name:"新乡市宏力大道店"},{id:1120,name:"新乡市胜利北街店"},{id:1121,name:"新乡市首比街店"}]},{id:1016,name:"巩义市",children:[{id:1254,name:"巩义市新兴路店"}]}]},{id:1001,name:"河北省",children:[]},{id:1007,name:"山东省",children:[{id:1103,name:"济南市",children:[{id:2544,name:"济南市无影山西路店"},{id:2545,name:"济南市堤口路店"}]},{id:1105,name:"沂市",children:[{id:2561,name:"沂市东岳庙店"}]}]},{id:1008,name:"甘肃省",children:[{id:1111,name:"兰州市",children:[{id:2649,name:"兰州市金港城店"},{id:2651,name:"兰州市秦安路店"}]}]}]}},methods:{setKeys:function(){this.$refs.tree.setCheckedKeys([1e3,1001],!0)},getKeys:function(){var e=this.$refs.tree.getCheckedKeys();console.log(e)},getNodes:function(){var e=this.$refs.tree.getCheckedNodes();console.log(e)},resetChecked:function(){this.$refs.tree.resetChecked()},getNode:function(){var e=this.$refs.tree.getNode(1001);console.log(e)},handleClick:function(e,t){console.log(t)}}},_=g,b=Object(p["a"])(_,k,y,!1,null,null,null),x=b.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("模糊搜索功能")]),n("ul",[n("li",[e._v("默认展开所有节点")]),n("li",[e._v("通过search设置关键词 "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],attrs:{type:"text"},domProps:{value:e.input},on:{input:function(t){t.target.composing||(e.input=t.target.value)}}})])]),n("SearchTree",{attrs:{"node-key":"id",data:e.treeList,search:e.input,"default-expand-all":!0}})],1)},$=[],O={data:function(){return{input:"济南无影山",treeList:[{id:1e3,name:"河南省",children:[{id:1009,name:"新乡市",children:[{id:1119,name:"新乡市宏力大道店"},{id:1120,name:"新乡市胜利北街店"},{id:1121,name:"新乡市首比街店"}]},{id:1016,name:"巩义市",children:[{id:1254,name:"巩义市新兴路店"}]}]},{id:1001,name:"河北省",children:[]},{id:1007,name:"山东省",children:[{id:1103,name:"济南市",children:[{id:2544,name:"济南市无影山西路店"},{id:2545,name:"济南市堤口路店"}]},{id:1105,name:"沂市",children:[{id:2561,name:"沂市东岳庙店"}]}]},{id:1008,name:"甘肃省",children:[{id:1111,name:"兰州市",children:[{id:2649,name:"兰州市金港城店"},{id:2651,name:"兰州市秦安路店"}]}]}]}}},w=O,j=Object(p["a"])(w,C,$,!1,null,null,null),D=j.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("作用域插槽")]),e._m(0),n("SearchTree",{attrs:{"node-key":"id",data:e.treeList}})],1)},S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("...")])])}],N={data:function(){return{treeList:[{id:1e3,name:"河南省",children:[{id:1009,name:"新乡市",children:[{id:1119,name:"新乡市宏力大道店"},{id:1120,name:"新乡市胜利北街店"},{id:1121,name:"新乡市首比街店"}]},{id:1016,name:"巩义市",children:[{id:1254,name:"巩义市新兴路店"}]}]},{id:1001,name:"河北省",children:[]},{id:1007,name:"山东省",children:[{id:1103,name:"济南市",children:[{id:2544,name:"济南市无影山西路店"},{id:2545,name:"济南市堤口路店"}]},{id:1105,name:"沂市",children:[{id:2561,name:"沂市东岳庙店"}]}]},{id:1008,name:"甘肃省",children:[{id:1111,name:"兰州市",children:[{id:2649,name:"兰州市金港城店"},{id:2651,name:"兰州市秦安路店"}]}]}]}}},E=N,T=Object(p["a"])(E,K,S,!1,null,null,null),L=T.exports,P={name:"app",components:{Demo1:v,Demo2:x,Demo3:D,Demo4:L},data:function(){return{treeList:[{id:1e3,name:"河南省",children:[{id:1009,name:"新乡市",children:[{id:1119,name:"新乡市宏力大道店"},{id:1120,name:"新乡市胜利北街店"},{id:1121,name:"新乡市首比街店"}]},{id:1016,name:"巩义市",children:[{id:1254,name:"巩义市新兴路店"}]}]},{id:1001,name:"河北省",children:[]},{id:1007,name:"山东省",children:[{id:1103,name:"济南市",children:[{id:2544,name:"济南市无影山西路店"},{id:2545,name:"济南市堤口路店"}]},{id:1105,name:"沂市",children:[{id:2561,name:"沂市东岳庙店"}]}]},{id:1008,name:"甘肃省",children:[{id:1111,name:"兰州市",children:[{id:2649,name:"兰州市金港城店"},{id:2651,name:"兰州市秦安路店"}]}]}]}},methods:{setKeys:function(){this.$refs.tree.setCheckedKeys([1e3,1001],!0)},getKeys:function(){var e=this.$refs.tree.getCheckedKeys();console.log(e)},getNodes:function(){var e=this.$refs.tree.getCheckedNodes();console.log(e)},resetChecked:function(){this.$refs.tree.resetChecked()},getNode:function(){var e=this.$refs.tree.getNode(1001);console.log(e)},handleClick:function(e,t){console.log(t)}}},A=P,q=(n("034f"),Object(p["a"])(A,o,l,!1,null,null,null)),M=q.exports,B=(n("4160"),n("c975"),n("d81d"),n("13d5"),n("a434"),n("b0c0"),n("c760"),n("ac1f"),n("841c"),n("498a"),n("159b"),n("2909")),J=(n("99af"),n("a623"),n("fb6a"),n("1276"),n("2638")),U=n.n(J),z=(n("45fc"),n("d3b7"),n("25f0"),n("5319"),function(e){e=JSON.parse(JSON.stringify(e));var t=0,n=e.shift();return e.length<1?+!!(n+1):e.reduce((function(r,i,a){return i-n===1?t+=1:(r+=Math.pow(10,t))&&(t=0),a===e.length-1&&(r+=Math.pow(10,t)),n=i,r}),0)}),F=function(e){var t=[],n=[];e.forEach((function(e){return 0===e.$sort?n.push(e):t.push(e)}));for(var r=0;r<t.length-1;r++){for(var i=r,a=r+1;a<t.length;a++)t[i].$sort<t[a].$sort&&(i=a);var d=[t[i],t[r]];t[r]=d[0],t[i]=d[1]}return[].concat(t,n)},R=function(e,t){t=t.replace(/\s*/g,"");var n=[],r=function t(r){for(var i=[],a=r.length,d=a;d>0;d--)for(var c=0;c<a+1-d;c++)i.push(r.substr(c,d));var o=0,l=0,s=0,h=0;if(!i.some((function(t){return s=e.indexOf(t),-1!==s&&(!(n.length&&n.indexOf(s)>-1)&&(o=r.indexOf(t),l=o+t.length,h=s+t.length,!0))})))return!1;while(h>s)n.push(s++);o-0&&t(r.slice(0,o)),l-a&&t(r.slice(l,a))};return r(t),n},G=function e(t){var n,r=Object.prototype.toString.call(t);if("[object Array]"===r)n=[];else{if("[object Object]"!==r)return t;n={}}if("[object Array]"===r)for(var i=0;i<t.length;i++)n.push(e(t[i]));else if("[object Object]"===r)for(var a in t)n[a]=e(t[a]);return n},H={name:"search-node",props:{data:{type:Object,required:!0}},data:function(){return{root:null,isChecked:this.data.checked,children:[]}},created:function(){var e=this.data,t=this.$parent;this.root=t.isTree?t:t.root,this.$set(this.data,"$pid",t.isTree?null:t.data[this.root.nodeKey]);var n=this.root.defaultProps.children;this.children=e[n]},watch:{children:{handler:function(e){e.length&&(this.data.checked=e.every((function(e){return e.checked})))},deep:!0},"data.checked":function(e){this.isChecked=e}},render:function(){var e,t=this,n=arguments[0],r=this.data,i=this.root,a=i.defaultProps,d=a.name,c=a.children;return n("ul",{class:"tree-ul"},[n("li",{class:"tree-li"},[n("svg",{attrs:{t:"1585220115926",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2222",width:"10",height:"10"},class:"tree-icon point",style:{transform:"rotate(".concat(r.expand?"0":"-90","deg)"),visibility:r[c].length?"visible":"hidden"},on:{click:function(e){return t.handlerExpand(e)}}},[n("path",{attrs:{d:"M151.476947 199.553918l718.53082 0c39.763632 0 71.922053 31.909757 71.922053 71.675436 0 18.485003-7.095605 35.205826-18.486026 47.872311L568.114019 793.227056c-23.810289 31.400151-68.641333 37.993313-100.29731 14.183024-5.570879-4.052293-10.384511-8.873088-14.183024-14.190187L94.235245 314.041416c-23.547299-31.407314-17.217127-76.479859 14.436804-100.041484 12.922311-9.881045 27.864628-14.43885 42.804898-14.43885l0 0L151.476947 199.553918zM151.476947 199.553918","p-id":"2223",fill:"#c0c4cc"}})]),i.showCheckbox&&n("input",U()([{on:{change:[function(e){var n=t.isChecked,r=e.target,i=!!r.checked;if(Array.isArray(n)){var a=null,d=t._i(n,a);r.checked?d<0&&(t.isChecked=n.concat([a])):d>-1&&(t.isChecked=n.slice(0,d).concat(n.slice(d+1)))}else t.isChecked=i},function(e){return t.handlerChecked(e)}]},attrs:{type:"checkbox"},class:"tree-checkbox point",domProps:{checked:Array.isArray(t.isChecked)?this._i(t.isChecked,null)>-1:t.isChecked}},{directives:[{name:"model",value:t.isChecked,modifiers:{}}]}])),n("div",{class:"tree-content point",on:{click:function(e){i.expandOnClickNode&&t.handlerExpand(e),i.checkOnClickNode&&t.handlerChecked(e),i.$emit("node-click",e,G(r))}}},[i.$scopedSlots.default?i.$scopedSlots.default(r):n("p",{class:"tree-text"},[(null===(e=r.$keys)||void 0===e?void 0:e.length)?r[d].split("").map((function(e,t){return n("span",{style:{color:r.$keys.indexOf(t)>-1?"red":"#666"}},[e])})):n("span",{style:{color:"#666"}},[r[d]])])])]),!!r[c].length&&r.expand&&r[c].map((function(e){return n("search-node",{key:e[i.nodeKey],attrs:{data:e}})}))])},methods:{handlerChecked:function(e){var t=this.data,n=this.root;t.checked=!t.checked,n.$emit("node-checked",e,G(t)),this.root._downwardUpdateChecked(t)},handlerExpand:function(e){var t=this.data,n=this.root;t.expand=!t.expand,n.$emit("node-expand",e,G(t))}}},I=H,Q=(n("3cd3"),Object(p["a"])(I,r,i,!1,null,"09961f93",null)),V=Q.exports,W={name:"search-tree",components:{searchNode:V},props:{data:{type:Array,required:!0},nodeKey:{type:String,default:"id"},search:{type:String,default:""},emptyText:{type:String,default:""},showCheckbox:{type:Boolean,default:!1},defaultExpandAll:{type:Boolean,default:!1},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},defaultExpandedKeys:{type:Array,default:function(){return[]}},defaultCheckedKeys:{type:Array,default:function(){return[]}},props:{type:Object,default:function(){return{}}}},data:function(){return{deepData:"",isTree:!0,defaultProps:{}}},computed:{_search:function(){return this.search.trim()},sourceData:function(){return G(this.data)}},watch:{sourceData:function(){this._initData()},_search:function(){this.deepData=this._getLdqTree(this.deepData)}},created:function(){this.defaultProps={name:this.props.name||"name",children:this.props.children||"children",disabled:this.props.disabled||"disabled"},this._initData()},render:function(){var e=this,t=arguments[0];return t("div",{class:"ldq-tree"},[this.deepData.map((function(n){return t("search-node",{key:n[e.nodeKey],attrs:{data:n}})}))])},methods:{_initData:function(){var e=this,t=this.defaultProps,n=t.name,r=t.children,i=t.disabled,a=function t(a,d){a.forEach((function(a){var c=a[e.nodeKey];a.$keys=[],a.$sort=0,a.level=d?1+~~d.level:1,a.checked=d&&!0===d.checked||e.defaultCheckedKeys.indexOf(c)>-1,a.expand=e.defaultExpandAll||e.defaultExpandedKeys.indexOf(c)>-1,!Reflect.has(a,i)&&(a[i]=!1),!a[n]&&(a[n]=e.emptyText),!a[r]&&(a[r]=[]),a[r].length&&t(a[r],a),a.expand&&d&&(d.expand=!0)}))};a(this.sourceData),this.deepData=this._getLdqTree(G(this.sourceData))},_getLdqTree:function(e){var t=this,n=this.defaultProps,r=n.name,i=n.children;return e.forEach((function(e){var n=R(e[r],t._search);e.$keys=n,e.$sort=z(n),e[i].length&&(e[i]=t._getLdqTree(e[i])),e.$sort+=e[i].reduce((function(e,t){return e>t.$sort?e:t.$sort}),0)})),F(e)},_preorder:function(e,t){if(!e.length)return null;var n=this.defaultProps.children,r=Object(B["a"])(e);while(r.length){var i=r.shift();if(t(i))return i;i[n].length&&r.unshift.apply(r,Object(B["a"])(i[n]))}return null},_downwardUpdateChecked:function(e){var t=this,n=this.defaultProps,r=(n.name,n.children);e[r].forEach((function(n){n.checked=e.checked,t._downwardUpdateChecked(n)}))},ininData:function(){this.deepData=this._getLdqTree(G(this.sourceData))},getNode:function(e){var t=this;return G(this._preorder(this.deepData,(function(n){return n[t.nodeKey]==e})))},resetChecked:function(){var e=this;return!this._preorder(this.deepData,(function(t){return!!e.$set(t,"checked",!1)}))},setCheckedKeys:function(e,t){var n=this;e=G(e),this._preorder(this.deepData,(function(r){var i=e.indexOf(r[n.nodeKey]);return-1!==i&&(r.checked=t,n._downwardUpdateChecked(r),e.splice(i,1),!e.length)}))},getCheckedKeys:function(){var e=this,t=[];return this._preorder(this.deepData,(function(n){return n.checked&&!t.push(n[e.nodeKey])})),t},getCheckedNodes:function(){var e=[];return this._preorder(this.deepData,(function(t){return t.checked&&!e.push(t)})),G(e)}}},X=W,Y=(n("280e"),Object(p["a"])(X,a,d,!1,null,"cdfe83d8",null)),Z=Y.exports,ee=n("5c96"),te=n.n(ee);n("0fae");c["default"].component("SearchTree",Z),c["default"].use(te.a),c["default"].config.productionTip=!1,new c["default"]({render:function(e){return e(M)}}).$mount("#app")},"85ec":function(e,t,n){},baee:function(e,t,n){}});
//# sourceMappingURL=app.4d0f1ba5.js.map